(this["webpackJsonpreact-chuck"]=this["webpackJsonpreact-chuck"]||[]).push([[0],{74:function(n,e,t){"use strict";t.r(e);var r=t(1),c=t(0),a=t.n(c),i=t(22),o=t.n(i),u=t(2),s=t.n(u),l=t(7),f=t(4),d=t(13),b=t(5),p=t(20),j="jokes";function v(n){localStorage.setItem(j,JSON.stringify(n))}function O(){return JSON.parse(localStorage.getItem(j)||"[]")}function x(n){var e=O();v(e.length<10?[].concat(Object(p.a)(e),[n]):[].concat(Object(p.a)(e.slice(1)),[n]))}function h(n){v(O().filter((function(e){return e.id!==n})))}var k="SAVE_JOKE",m="REMOVE_JOKE",g="SET_SAVED_JOKES",w="REMOVE_ALL_JOKES",y=function(n){return{type:g,jokes:n}},J=function(n){return function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n);case 2:t(D(n));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},E=function(n){return function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n);case 2:t(A(n));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},S=function(){return{type:w}},D=function(n){return{type:k,joke:n}},A=function(n){return{type:m,jokeId:n}};function _(){var n=Object(f.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n"]);return _=function(){return n},n}var R=b.b.div(_()),C=function(n){var e=n.children,t=Object(d.b)(),a=function(){var n=Object(l.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(function(){var n=Object(l.a)(s.a.mark((function n(e){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O();case 2:t=n.sent,e(y(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){a()}),[]),Object(r.jsx)(R,{children:e})};function K(){var n=Object(f.a)(["\n  body {\n    font-family: 'Arial';\n    font-size: 14px;\n    color: #333;\n  }\n\n  li, ul {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n  }\n  \n  input, textarea {\n    outline: none;\n  }\n  \n  button {\n    border: 0;\n    outline: none;\n  }\n  \n  html, body {\n    margin: 0;\n    padding: 0;\n    background: #F5F6FA;\n    width: 100%;\n  }\n\n  #root {\n    margin: 16px;\n  }\n  \n  * {\n    box-sizing: border-box;\n  }\n"]);return K=function(){return n},n}var N=Object(b.a)(K()),T=t(19),F=t(6),M=t(30);function I(){var n=Object(f.a)(["\n  font-size: 24px;\n  color: #3aabe2;\n  font-family: 'Courier New';\n"]);return I=function(){return n},n}var G=b.b.div(I()),V=function(n){var e=n.text;return Object(r.jsx)(G,{children:e})},B=t(18),z=t.n(B),H=z.a.create({baseURL:"https://api.chucknorris.io/"}),L={response:function(n){return{iconUrl:n.icon_url,url:n.url,id:n.id,value:n.value}}},U=t(76),P={list:{},cancel:function(n){P.list&&n in P.list?P.list[n]&&P.list[n].cancel():P.list[n]=null,P.list[n]=z.a.CancelToken.source()}},q="jokes/random",W={GET_RANDOM_JOKE:Object(U.a)()};function Q(){return X.apply(this,arguments)}function X(){return(X=Object(l.a)(s.a.mark((function n(){var e,t,r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return P.cancel(W.GET_RANDOM_JOKE),n.prev=1,n.next=4,H.request({method:"GET",url:q,cancelToken:(null===(e=P.list[W.GET_RANDOM_JOKE])||void 0===e?void 0:e.token)||void 0});case 4:return t=n.sent,r=t.data,n.abrupt("return",L.response(r));case 9:throw n.prev=9,n.t0=n.catch(1),console.log("Error in getRandomJoke"),console.log(n.t0),n.t0;case 14:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}var Y="SET_RANDOM_JOKE",Z=function(n){return{type:Y,joke:n}},$=function(n){return n.jokesDashboard.activeJoke},nn=function(n){return n.savedJokes.savedJokes};function en(){var n=Object(f.a)(["\n  font-size: 16px;\n  color: #333;\n  font-family: 'Courier New';\n"]);return en=function(){return n},n}var tn=b.b.div(en()),rn=function(n){var e=n.text;return Object(r.jsx)(tn,{children:e})};function cn(){var n=Object(f.a)(["\n  background-color: ",";\n  padding: 10px 20px;\n  cursor: pointer;\n  font-family: 'Arial';\n  color: #fff;\n  text-align: center;\n  pointer-events: ",";\n"]);return cn=function(){return n},n}var an=b.b.div(cn(),(function(n){return n.disabled?"gray":"#ff5b24"}),(function(n){return n.disabled?"none":""})),on=function(n){var e=n.className,t=n.children,c=n.disabled,a=n.onClick;return Object(r.jsx)(an,{className:e,onClick:a,disabled:c,children:t})};function un(){var n=Object(f.a)(["\n  margin-bottom: 10px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]);return un=function(){return n},n}function sn(){var n=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return sn=function(){return n},n}function ln(){var n=Object(f.a)(["\n  padding: 24px 12px;\n  border: 1px solid #3aabe2;\n  margin-bottom: 16px;\n"]);return ln=function(){return n},n}function fn(){var n=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n"]);return fn=function(){return n},n}var dn,bn=b.b.div(fn()),pn=b.b.div(ln()),jn=b.b.div(sn()),vn=Object(b.b)(on)(un());!function(n){n.JOKES_DASHBOARD="/",n.SAVED_JOKES="/saved"}(dn||(dn={}));var On=void 0;function xn(){var n=Object(f.a)(["\n  height: 100%;\n  width: 72px;\n  min-width: 72px;\n  cursor: pointer;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 6px;\n  color: #fff;\n  background-color: #3aabe2;\n"]);return xn=function(){return n},n}function hn(){var n=Object(f.a)(["\n  padding: 10px;\n  padding-left: 0;\n"]);return hn=function(){return n},n}function kn(){var n=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border: 1px solid #3aabe2;\n  margin-bottom: 10px;\n  padding: 0 10px;\n"]);return kn=function(){return n},n}function mn(){var n=Object(f.a)(["\n  padding: 0 10px;\n  width: 33.33%;\n\n  @media (max-width: 1100px) {\n    width: 100%;\n  }\n"]);return mn=function(){return n},n}function gn(){var n=Object(f.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 -10px;\n  margin-bottom: 16px;\n"]);return gn=function(){return n},n}function wn(){var n=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n"]);return wn=function(){return n},n}var yn=b.b.div(wn()),Jn=b.b.div(gn()),En=b.b.div(mn()),Sn=b.b.div(kn()),Dn=b.b.div(hn()),An=b.b.div(xn()),_n=[{path:dn.SAVED_JOKES,component:function(){var n=Object(d.b)(),e=Object(d.c)(nn);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(yn,{children:[Object(r.jsx)(V,{text:"Favourite Jokes"}),Object(r.jsx)(T.b,{to:dn.JOKES_DASHBOARD,children:"Back to Dashboard"})]}),Object(r.jsx)(Jn,{children:e.map((function(e,t){return Object(r.jsx)(En,{children:Object(r.jsxs)(Sn,{children:[Object(r.jsx)(Dn,{children:Object(r.jsx)(rn,{text:e.value})}),Object(r.jsx)(An,{onClick:function(){var t;t=e.id,n(E(t))},children:"Delete"})]})},t)}))}),!!e.length&&Object(r.jsx)(on,{onClick:function(){n(function(){var n=Object(l.a)(s.a.mark((function n(e){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,void v([]);case 2:e(S());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},children:"Clear Favourite Jokes"})]})}},{path:dn.JOKES_DASHBOARD,component:function(){var n=Object(d.b)(),e=Object(d.c)($),t=Object(d.c)(nn),a=Object(c.useState)(!1),i=Object(M.a)(a,2),o=i[0],u=i[1],f=Object(c.useState)(void 0),b=Object(M.a)(f,2),p=b[0],j=b[1],v=Object(c.useMemo)((function(){return!!e&&!!t.find((function(n){return n.value===e.value}))}),[t,e]),O=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(!0),n(function(){var n=Object(l.a)(s.a.mark((function n(e){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q();case 3:t=n.sent,e(Z(t)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),z.a.isCancel(n.t0)&&console.log("Request cancelled ");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()),u(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var n=Object(l.a)(s.a.mark((function n(){var e;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=setInterval((function(){O()}),3e3),On=e,j(e);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h=function(){var n=Object(l.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:clearInterval(On),j(void 0);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),k=function(){var t=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:n(J(e));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:n(E(e.id));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){h()}}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(bn,{children:[Object(r.jsx)(V,{text:"Get Random Joke"}),Object(r.jsx)(T.b,{to:dn.SAVED_JOKES,children:"To Favourite Jokes"})]}),Object(r.jsx)(pn,{children:Object(r.jsx)(rn,{text:o?"Fetching":(null===e||void 0===e?void 0:e.value)||"\u0421lick on one of the buttons"})}),Object(r.jsxs)(jn,{children:[Object(r.jsx)(vn,{onClick:O,disabled:o,children:"Get Joke"}),p?Object(r.jsx)(vn,{onClick:h,children:"Stop Getting Jokes"}):Object(r.jsx)(vn,{onClick:x,children:"Start Getting Jokes"}),v?Object(r.jsx)(vn,{onClick:m,children:"Remove from Favourite"}):Object(r.jsx)(vn,{onClick:k,children:"Add to Favourite"})]})]})}}],Rn=function(){return Object(r.jsx)(T.a,{children:Object(r.jsxs)(F.d,{children:[_n.map((function(n){return Object(r.jsx)(F.b,{path:n.path,render:function(){return Object(r.jsx)(n.component,{})}},n.path)})),Object(r.jsx)(F.b,{path:"*",children:Object(r.jsx)(F.a,{to:dn.JOKES_DASHBOARD})})]})})},Cn=t(14),Kn={savedJokes:[]};var Nn={activeJoke:void 0};var Tn,Fn=Object(Cn.combineReducers)({savedJokes:function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{savedJokes:t.jokes};case k:return{savedJokes:n.length<10?[].concat(Object(p.a)(e.savedJokes),[t.joke]):[].concat(Object(p.a)(e.savedJokes.slice(1)),[t.joke])};case m:return{savedJokes:e.savedJokes.filter((function(n){return n.id!==t.jokeId}))};case w:return{savedJokes:[]};default:return e}},jokesDashboard:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Y:return{activeJoke:e.joke};default:return n}}}),Mn=t(29),In=t(46);!function(n){n.PRODUCTION="production",n.DEVELOPMENT="development"}(Tn||(Tn={}));var Gn="production";var Vn=Tn.PRODUCTION===Gn?Object(Cn.applyMiddleware)(Mn.a):Object(In.composeWithDevTools)(Object(Cn.applyMiddleware)(Mn.a)),Bn=Object(Cn.createStore)(Fn,Vn),zn=function(n){var e=n.children;return Object(r.jsx)(d.a,{store:Bn,children:e})},Hn=function(){return Object(r.jsx)(zn,{children:Object(r.jsxs)(C,{children:[Object(r.jsx)(Rn,{}),Object(r.jsx)(N,{})]})})};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Hn,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.ac3db5b5.chunk.js.map